<?xml version="1.0" encoding="UTF-8"?>
<form xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Ui:etc/ui_configuration.xsd">
    <argument name="data" xsi:type="array">
        <item name="js_config" xsi:type="array">
            <item name="provider" xsi:type="string">customreport_form.customreport_form_data_source</item>
            <item name="deps" xsi:type="string">customreport_form.customreport_form_data_source</item>
        </item>
        <item name="label" xsi:type="string" translate="true">Object Information</item>
        <item name="config" xsi:type="array">
            <item name="dataScope" xsi:type="string">data</item>
            <item name="namespace" xsi:type="string">customreport_form</item>
        </item>
        <item name="template" xsi:type="string">templates/form/collapsible</item>
        <item name="buttons" xsi:type="array">
            <item name="back" xsi:type="string">DEG\CustomReports\Block\Adminhtml\CustomReport\Edit\BackButton</item>
            <item name="report" xsi:type="string">DEG\CustomReports\Block\Adminhtml\CustomReport\Edit\ReportButton</item>
            <item name="delete" xsi:type="string">DEG\CustomReports\Block\Adminhtml\CustomReport\Edit\DeleteButton</item>
            <item name="reset" xsi:type="string">DEG\CustomReports\Block\Adminhtml\CustomReport\Edit\ResetButton</item>
            <item name="save" xsi:type="string">DEG\CustomReports\Block\Adminhtml\CustomReport\Edit\SaveButton</item>
            <item name="save_and_continue" xsi:type="string">DEG\CustomReports\Block\Adminhtml\CustomReport\Edit\SaveAndContinueButton</item>
        </item>
    </argument>
    <dataSource name="customreport_form_data_source">
        <argument name="dataProvider" xsi:type="configurableObject">
            <argument name="class" xsi:type="string">DEG\CustomReports\Model\CustomReport\DataProvider</argument>
            <argument name="name" xsi:type="string">customreport_form_data_source</argument>
            <argument name="primaryFieldName" xsi:type="string">customreport_id</argument>
            <argument name="requestFieldName" xsi:type="string">customreport_id</argument>
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="submit_url" xsi:type="url" path="*/*/save"/>
                </item>
            </argument>
        </argument>
        <argument name="data" xsi:type="array">
            <item name="js_config" xsi:type="array">
                <item name="component" xsi:type="string">Magento_Ui/js/form/provider</item>
            </item>
        </argument>
    </dataSource>
    <fieldset name="general">
        <argument name="data" xsi:type="array">
            <item name="config" xsi:type="array">
                <item name="label" xsi:type="string">Report Information</item>
                <item name="collapsible" xsi:type="boolean">false</item>
            </item>
        </argument>
        <field name="customreport_id">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="visible" xsi:type="boolean">false</item>
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="dataScope" xsi:type="string">customreport_id</item>
                </item>
            </argument>
        </field>
        <field name="report_name">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="label" xsi:type="string" translate="true">Report Name</item>
                    <item name="formElement" xsi:type="string">input</item>
                    <item name="sortOrder" xsi:type="number">20</item>
                    <item name="dataScope" xsi:type="string">report_name</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="report_sql">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="label" xsi:type="string" translate="true">Report SQL</item>
                    <item name="formElement" xsi:type="string">textarea</item>
                    <item name="rows" xsi:type="string">20</item>
                    <item name="sortOrder" xsi:type="number">30</item>
                    <item name="dataScope" xsi:type="string">report_sql</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                    </item>
                </item>
            </argument>
        </field>
        <field name="allow_count_query">
            <argument name="data" xsi:type="array">
                <item name="config" xsi:type="array">
                    <item name="dataType" xsi:type="string">text</item>
                    <item name="label" xsi:type="string" translate="true">Allow Count Query</item>
                    <item name="formElement" xsi:type="string">select</item>
                    <item name="rows" xsi:type="string">20</item>
                    <item name="sortOrder" xsi:type="number">40</item>
                    <item name="dataScope" xsi:type="string">allow_count_query</item>
                    <item name="validation" xsi:type="array">
                        <item name="required-entry" xsi:type="boolean">true</item>
                    </item>
                    <item name="tooltip" xsi:type="array">
                        <item name="description" xsi:type="string"><![CDATA[Defaults to 'Yes', which allows the report grid to display the total records count and total pages count, but this requires running another query (select count(*) from (original query)). <br><br>If the report query is slow, and total records and total pages count do not need to be shown on the grid interface, this flag can be set to 'No' to improve grid performance.<br><br>Even if set to 'No', total records count can still be shown in some cases, .e.g if the number of records on the first page is less than the page size.]]></item>
                    </item>
                </item>
                <item name="options" xsi:type="object">Magento\Config\Model\Config\Source\Yesno</item>
            </argument>
        </field>
    </fieldset>
</form>
